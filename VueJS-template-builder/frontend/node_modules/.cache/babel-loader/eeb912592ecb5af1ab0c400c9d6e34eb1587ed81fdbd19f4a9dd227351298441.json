{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveDynamicComponent as _resolveDynamicComponent, mergeProps as _mergeProps, createBlock as _createBlock, createCommentVNode as _createCommentVNode, withModifiers as _withModifiers } from \"vue\";\nconst _hoisted_1 = {\n  class: \"template-form\"\n};\nconst _hoisted_2 = {\n  class: \"page-header\"\n};\nconst _hoisted_3 = {\n  class: \"header-actions\"\n};\nconst _hoisted_4 = {\n  class: \"element-palette\"\n};\nconst _hoisted_5 = [\"onDragstart\"];\nconst _hoisted_6 = {\n  class: \"element-header\"\n};\nconst _hoisted_7 = {\n  class: \"element-actions\"\n};\nconst _hoisted_8 = {\n  class: \"element-preview\"\n};\nconst _hoisted_9 = {\n  key: 1,\n  class: \"empty-form\"\n};\nconst _hoisted_10 = {\n  class: \"dialog-footer\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_button = _resolveComponent(\"el-button\");\n  const _component_el_input = _resolveComponent(\"el-input\");\n  const _component_el_form_item = _resolveComponent(\"el-form-item\");\n  const _component_el_switch = _resolveComponent(\"el-switch\");\n  const _component_el_form = _resolveComponent(\"el-form\");\n  const _component_el_tag = _resolveComponent(\"el-tag\");\n  const _component_el_card = _resolveComponent(\"el-card\");\n  const _component_el_col = _resolveComponent(\"el-col\");\n  const _component_el_empty = _resolveComponent(\"el-empty\");\n  const _component_el_row = _resolveComponent(\"el-row\");\n  const _component_el_dialog = _resolveComponent(\"el-dialog\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"h1\", null, _toDisplayString($setup.isEdit ? 'Edit Template' : 'Create Template'), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_3, [_createVNode(_component_el_button, {\n    onClick: _cache[0] || (_cache[0] = $event => _ctx.$router.push('/templates'))\n  }, {\n    default: _withCtx(() => _cache[14] || (_cache[14] = [_createTextVNode(\"Cancel\")])),\n    _: 1 /* STABLE */,\n    __: [14]\n  }), _createVNode(_component_el_button, {\n    type: \"primary\",\n    onClick: $setup.saveTemplate,\n    loading: $setup.loading\n  }, {\n    default: _withCtx(() => _cache[15] || (_cache[15] = [_createTextVNode(\" Save Template \")])),\n    _: 1 /* STABLE */,\n    __: [15]\n  }, 8 /* PROPS */, [\"onClick\", \"loading\"])])]), _createVNode(_component_el_row, {\n    gutter: 20\n  }, {\n    default: _withCtx(() => [_createVNode(_component_el_col, {\n      span: 8\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_card, {\n        class: \"container form-settings\"\n      }, {\n        default: _withCtx(() => [_cache[16] || (_cache[16] = _createElementVNode(\"h2\", null, \"Template Settings\", -1 /* HOISTED */)), _createVNode(_component_el_form, {\n          \"label-position\": \"top\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_el_form_item, {\n            label: \"Template Name\",\n            required: \"\"\n          }, {\n            default: _withCtx(() => [_createVNode(_component_el_input, {\n              modelValue: $setup.template.name,\n              \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $setup.template.name = $event),\n              placeholder: \"Enter template name\"\n            }, null, 8 /* PROPS */, [\"modelValue\"])]),\n            _: 1 /* STABLE */\n          }), _createVNode(_component_el_form_item, {\n            label: \"Description\"\n          }, {\n            default: _withCtx(() => [_createVNode(_component_el_input, {\n              modelValue: $setup.template.description,\n              \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $setup.template.description = $event),\n              type: \"textarea\",\n              rows: \"3\",\n              placeholder: \"Enter template description\"\n            }, null, 8 /* PROPS */, [\"modelValue\"])]),\n            _: 1 /* STABLE */\n          }), _createVNode(_component_el_form_item, null, {\n            default: _withCtx(() => [_createVNode(_component_el_switch, {\n              modelValue: $setup.template.isPublished,\n              \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $setup.template.isPublished = $event),\n              \"active-text\": \"Published\",\n              \"inactive-text\": \"Draft\"\n            }, null, 8 /* PROPS */, [\"modelValue\"])]),\n            _: 1 /* STABLE */\n          })]),\n          _: 1 /* STABLE */\n        }), _cache[17] || (_cache[17] = _createElementVNode(\"h3\", null, \"Available Elements\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_4, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.availableElements, element => {\n          return _openBlock(), _createElementBlock(\"div\", {\n            key: element.type,\n            class: \"element-item\",\n            draggable: \"true\",\n            onDragstart: $event => $setup.onDragStart($event, element)\n          }, [_createVNode(_component_el_tag, {\n            size: \"large\"\n          }, {\n            default: _withCtx(() => [_createTextVNode(_toDisplayString(element.label), 1 /* TEXT */)]),\n            _: 2 /* DYNAMIC */\n          }, 1024 /* DYNAMIC_SLOTS */)], 40 /* PROPS, NEED_HYDRATION */, _hoisted_5);\n        }), 128 /* KEYED_FRAGMENT */))])]),\n        _: 1 /* STABLE */,\n        __: [16, 17]\n      })]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_el_col, {\n      span: 16\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_card, {\n        class: \"container form-canvas\"\n      }, {\n        default: _withCtx(() => [_cache[20] || (_cache[20] = _createElementVNode(\"h2\", null, \"Form Layout\", -1 /* HOISTED */)), _createElementVNode(\"div\", {\n          class: \"form-drop-area\",\n          onDrop: _cache[4] || (_cache[4] = $event => $setup.onDrop($event)),\n          onDragover: _cache[5] || (_cache[5] = _withModifiers(() => {}, [\"prevent\"])),\n          onDragenter: _cache[6] || (_cache[6] = _withModifiers(() => {}, [\"prevent\"]))\n        }, [$setup.template.elements && $setup.template.elements.length > 0 ? (_openBlock(true), _createElementBlock(_Fragment, {\n          key: 0\n        }, _renderList($setup.template.elements, (element, index) => {\n          return _openBlock(), _createElementBlock(\"div\", {\n            key: index,\n            class: \"form-element\"\n          }, [_createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"span\", null, _toDisplayString(element.label), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_7, [_createVNode(_component_el_button, {\n            size: \"small\",\n            onClick: $event => $setup.editElement(index)\n          }, {\n            default: _withCtx(() => [...(_cache[18] || (_cache[18] = [_createTextVNode(\"Edit\")]))]),\n            _: 2 /* DYNAMIC */,\n            __: [18]\n          }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"onClick\"]), _createVNode(_component_el_button, {\n            size: \"small\",\n            type: \"danger\",\n            onClick: $event => $setup.removeElement(index)\n          }, {\n            default: _withCtx(() => [...(_cache[19] || (_cache[19] = [_createTextVNode(\"Remove\")]))]),\n            _: 2 /* DYNAMIC */,\n            __: [19]\n          }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"onClick\"])])]), _createElementVNode(\"div\", _hoisted_8, [(_openBlock(), _createBlock(_resolveDynamicComponent($setup.getElementComponent()), _mergeProps({\n            ref_for: true\n          }, element, {\n            disabled: \"\"\n          }), null, 16 /* FULL_PROPS */))])]);\n        }), 128 /* KEYED_FRAGMENT */)) : (_openBlock(), _createElementBlock(\"div\", _hoisted_9, [_createVNode(_component_el_empty, {\n          description: \"Drag elements here to build your form template\"\n        })]))], 32 /* NEED_HYDRATION */)]),\n        _: 1 /* STABLE */,\n        __: [20]\n      })]),\n      _: 1 /* STABLE */\n    })]),\n    _: 1 /* STABLE */\n  }), _createVNode(_component_el_dialog, {\n    modelValue: $setup.elementDialogVisible,\n    \"onUpdate:modelValue\": _cache[13] || (_cache[13] = $event => $setup.elementDialogVisible = $event),\n    title: $setup.isEditingElement ? 'Edit Element' : 'Add Element',\n    width: \"50%\"\n  }, {\n    footer: _withCtx(() => [_createElementVNode(\"span\", _hoisted_10, [_createVNode(_component_el_button, {\n      onClick: _cache[12] || (_cache[12] = $event => $setup.elementDialogVisible = false)\n    }, {\n      default: _withCtx(() => _cache[23] || (_cache[23] = [_createTextVNode(\"Cancel\")])),\n      _: 1 /* STABLE */,\n      __: [23]\n    }), _createVNode(_component_el_button, {\n      type: \"primary\",\n      onClick: $setup.saveElement\n    }, {\n      default: _withCtx(() => _cache[24] || (_cache[24] = [_createTextVNode(\"Save\")])),\n      _: 1 /* STABLE */,\n      __: [24]\n    }, 8 /* PROPS */, [\"onClick\"])])]),\n    default: _withCtx(() => [_createVNode(_component_el_form, {\n      \"label-position\": \"top\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_form_item, {\n        label: \"Label\",\n        required: \"\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_input, {\n          modelValue: $setup.currentElement.label,\n          \"onUpdate:modelValue\": _cache[7] || (_cache[7] = $event => $setup.currentElement.label = $event),\n          placeholder: \"Enter element label\"\n        }, null, 8 /* PROPS */, [\"modelValue\"])]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_form_item, {\n        label: \"Name\",\n        required: \"\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_input, {\n          modelValue: $setup.currentElement.name,\n          \"onUpdate:modelValue\": _cache[8] || (_cache[8] = $event => $setup.currentElement.name = $event),\n          placeholder: \"Enter element name\"\n        }, null, 8 /* PROPS */, [\"modelValue\"])]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_form_item, {\n        label: \"Placeholder\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_input, {\n          modelValue: $setup.currentElement.placeholder,\n          \"onUpdate:modelValue\": _cache[9] || (_cache[9] = $event => $setup.currentElement.placeholder = $event),\n          placeholder: \"Enter placeholder text\"\n        }, null, 8 /* PROPS */, [\"modelValue\"])]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_form_item, {\n        label: \"Helper Text\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_input, {\n          modelValue: $setup.currentElement.helperText,\n          \"onUpdate:modelValue\": _cache[10] || (_cache[10] = $event => $setup.currentElement.helperText = $event),\n          placeholder: \"Enter helper text\"\n        }, null, 8 /* PROPS */, [\"modelValue\"])]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_form_item, null, {\n        default: _withCtx(() => [_createVNode(_component_el_switch, {\n          modelValue: $setup.currentElement.required,\n          \"onUpdate:modelValue\": _cache[11] || (_cache[11] = $event => $setup.currentElement.required = $event),\n          \"active-text\": \"Required\",\n          \"inactive-text\": \"Optional\"\n        }, null, 8 /* PROPS */, [\"modelValue\"])]),\n        _: 1 /* STABLE */\n      }), $setup.currentElement.type === 'select' || $setup.currentElement.type === 'radio' || $setup.currentElement.type === 'checkbox' ? (_openBlock(), _createBlock(_component_el_form_item, {\n        key: 0\n      }, {\n        default: _withCtx(() => [_cache[22] || (_cache[22] = _createElementVNode(\"h4\", null, \"Options\", -1 /* HOISTED */)), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.currentElement.options, (option, index) => {\n          return _openBlock(), _createElementBlock(\"div\", {\n            key: index,\n            class: \"option-item\"\n          }, [_createVNode(_component_el_input, {\n            modelValue: option.label,\n            \"onUpdate:modelValue\": $event => option.label = $event,\n            placeholder: \"Option label\"\n          }, null, 8 /* PROPS */, [\"modelValue\", \"onUpdate:modelValue\"]), _createVNode(_component_el_input, {\n            modelValue: option.value,\n            \"onUpdate:modelValue\": $event => option.value = $event,\n            placeholder: \"Option value\"\n          }, null, 8 /* PROPS */, [\"modelValue\", \"onUpdate:modelValue\"]), _createVNode(_component_el_button, {\n            type: \"danger\",\n            icon: \"el-icon-delete\",\n            circle: \"\",\n            onClick: $event => $setup.removeOption(index)\n          }, null, 8 /* PROPS */, [\"onClick\"])]);\n        }), 128 /* KEYED_FRAGMENT */)), _createVNode(_component_el_button, {\n          type: \"primary\",\n          onClick: $setup.addOption\n        }, {\n          default: _withCtx(() => _cache[21] || (_cache[21] = [_createTextVNode(\"Add Option\")])),\n          _: 1 /* STABLE */,\n          __: [21]\n        }, 8 /* PROPS */, [\"onClick\"])]),\n        _: 1 /* STABLE */,\n        __: [22]\n      })) : _createCommentVNode(\"v-if\", true)]),\n      _: 1 /* STABLE */\n    })]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"modelValue\", \"title\"])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_toDisplayString","$setup","isEdit","_hoisted_3","_createVNode","_component_el_button","onClick","_cache","$event","_ctx","$router","push","type","saveTemplate","loading","_component_el_row","gutter","_component_el_col","span","_component_el_card","_component_el_form","_component_el_form_item","label","required","_component_el_input","template","name","placeholder","description","rows","_component_el_switch","isPublished","_hoisted_4","_Fragment","_renderList","availableElements","element","key","draggable","onDragstart","onDragStart","_component_el_tag","size","onDrop","onDragover","_withModifiers","onDragenter","elements","length","index","_hoisted_6","_hoisted_7","editElement","removeElement","_hoisted_8","_createBlock","_resolveDynamicComponent","getElementComponent","_mergeProps","ref_for","disabled","_hoisted_9","_component_el_empty","_component_el_dialog","elementDialogVisible","title","isEditingElement","width","footer","_withCtx","_hoisted_10","saveElement","currentElement","helperText","options","option","value","icon","circle","removeOption","addOption"],"sources":["/Users/mdtazbirurrahmanbhuiyan/Experiments/VueJS template buillder/VueJS-template-builder/frontend/src/views/templates/TemplateForm.vue"],"sourcesContent":["<template>\n  <div class=\"template-form\">\n    <div class=\"page-header\">\n      <h1>{{ isEdit ? 'Edit Template' : 'Create Template' }}</h1>\n      <div class=\"header-actions\">\n        <el-button @click=\"$router.push('/templates')\">Cancel</el-button>\n        <el-button type=\"primary\" @click=\"saveTemplate\" :loading=\"loading\">\n          Save Template\n        </el-button>\n      </div>\n    </div>\n    \n    <el-row :gutter=\"20\">\n      <el-col :span=\"8\">\n        <el-card class=\"container form-settings\">\n          <h2>Template Settings</h2>\n          \n          <el-form label-position=\"top\">\n            <el-form-item label=\"Template Name\" required>\n              <el-input v-model=\"template.name\" placeholder=\"Enter template name\" />\n            </el-form-item>\n            \n            <el-form-item label=\"Description\">\n              <el-input\n                v-model=\"template.description\"\n                type=\"textarea\"\n                rows=\"3\"\n                placeholder=\"Enter template description\"\n              />\n            </el-form-item>\n            \n            <el-form-item>\n              <el-switch\n                v-model=\"template.isPublished\"\n                active-text=\"Published\"\n                inactive-text=\"Draft\"\n              />\n            </el-form-item>\n          </el-form>\n          \n          <h3>Available Elements</h3>\n          <div class=\"element-palette\">\n            <div\n              v-for=\"element in availableElements\"\n              :key=\"element.type\"\n              class=\"element-item\"\n              draggable=\"true\"\n              @dragstart=\"onDragStart($event, element)\"\n            >\n              <el-tag size=\"large\">{{ element.label }}</el-tag>\n            </div>\n          </div>\n        </el-card>\n      </el-col>\n      \n      <el-col :span=\"16\">\n        <el-card class=\"container form-canvas\">\n          <h2>Form Layout</h2>\n          <div\n            class=\"form-drop-area\"\n            @drop=\"onDrop($event)\"\n            @dragover.prevent\n            @dragenter.prevent\n          >\n            <template v-if=\"template.elements && template.elements.length > 0\">\n              <div\n                v-for=\"(element, index) in template.elements\"\n                :key=\"index\"\n                class=\"form-element\"\n              >\n                <div class=\"element-header\">\n                  <span>{{ element.label }}</span>\n                  <div class=\"element-actions\">\n                    <el-button size=\"small\" @click=\"editElement(index)\">Edit</el-button>\n                    <el-button size=\"small\" type=\"danger\" @click=\"removeElement(index)\">Remove</el-button>\n                  </div>\n                </div>\n                \n                <div class=\"element-preview\">\n                  <component \n                    :is=\"getElementComponent()\"\n                    v-bind=\"element\"\n                    disabled\n                  />\n                </div>\n              </div>\n            </template>\n            \n            <div v-else class=\"empty-form\">\n              <el-empty description=\"Drag elements here to build your form template\" />\n            </div>\n          </div>\n        </el-card>\n      </el-col>\n    </el-row>\n    \n    <el-dialog\n      v-model=\"elementDialogVisible\"\n      :title=\"isEditingElement ? 'Edit Element' : 'Add Element'\"\n      width=\"50%\"\n    >\n      <el-form label-position=\"top\">\n        <el-form-item label=\"Label\" required>\n          <el-input v-model=\"currentElement.label\" placeholder=\"Enter element label\" />\n        </el-form-item>\n        \n        <el-form-item label=\"Name\" required>\n          <el-input v-model=\"currentElement.name\" placeholder=\"Enter element name\" />\n        </el-form-item>\n        \n        <el-form-item label=\"Placeholder\">\n          <el-input v-model=\"currentElement.placeholder\" placeholder=\"Enter placeholder text\" />\n        </el-form-item>\n        \n        <el-form-item label=\"Helper Text\">\n          <el-input v-model=\"currentElement.helperText\" placeholder=\"Enter helper text\" />\n        </el-form-item>\n        \n        <el-form-item>\n          <el-switch\n            v-model=\"currentElement.required\"\n            active-text=\"Required\"\n            inactive-text=\"Optional\"\n          />\n        </el-form-item>\n        \n        <el-form-item v-if=\"currentElement.type === 'select' || currentElement.type === 'radio' || currentElement.type === 'checkbox'\">\n          <h4>Options</h4>\n          <div v-for=\"(option, index) in currentElement.options\" :key=\"index\" class=\"option-item\">\n            <el-input v-model=\"option.label\" placeholder=\"Option label\" />\n            <el-input v-model=\"option.value\" placeholder=\"Option value\" />\n            <el-button type=\"danger\" icon=\"el-icon-delete\" circle @click=\"removeOption(index)\" />\n          </div>\n          <el-button type=\"primary\" @click=\"addOption\">Add Option</el-button>\n        </el-form-item>\n      </el-form>\n      \n      <template #footer>\n        <span class=\"dialog-footer\">\n          <el-button @click=\"elementDialogVisible = false\">Cancel</el-button>\n          <el-button type=\"primary\" @click=\"saveElement\">Save</el-button>\n        </span>\n      </template>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport { ref, reactive, computed, onMounted } from 'vue'\nimport { useStore } from 'vuex'\nimport { useRouter } from 'vue-router'\nimport { ElMessage } from 'element-plus'\nimport { v4 as uuidv4 } from 'uuid'\n\nexport default {\n  name: 'TemplateForm',\n  props: {\n    id: {\n      type: String,\n      required: false\n    }\n  },\n  \n  setup(props) {\n    const store = useStore()\n    const router = useRouter()\n    // Removed unused route variable\n    \n    const template = reactive({\n      name: '',\n      description: '',\n      elements: [],\n      isPublished: false\n    })\n    \n    const loading = computed(() => store.getters.isLoading)\n    const isEdit = computed(() => !!props.id)\n    \n    const elementDialogVisible = ref(false)\n    const isEditingElement = ref(false)\n    const currentElement = ref({})\n    const currentElementIndex = ref(-1)\n    \n    const availableElements = [\n      { type: 'text', label: 'Text Input' },\n      { type: 'textarea', label: 'Text Area' },\n      { type: 'number', label: 'Number' },\n      { type: 'email', label: 'Email' },\n      { type: 'password', label: 'Password' },\n      { type: 'select', label: 'Dropdown' },\n      { type: 'radio', label: 'Radio Buttons' },\n      { type: 'checkbox', label: 'Checkboxes' },\n      { type: 'date', label: 'Date Picker' },\n      { type: 'time', label: 'Time Picker' },\n      { type: 'file', label: 'File Upload' },\n      { type: 'slider', label: 'Slider' },\n      { type: 'switch', label: 'Switch' },\n      { type: 'divider', label: 'Divider' },\n      { type: 'heading', label: 'Heading' }\n    ]\n    \n    onMounted(async () => {\n      if (props.id) {\n        try {\n          const fetchedTemplate = await store.dispatch('fetchTemplateById', props.id)\n          if (fetchedTemplate) {\n            Object.assign(template, fetchedTemplate)\n          }\n        } catch (error) {\n          ElMessage.error('Failed to load template')\n        }\n      }\n    })\n    \n    const onDragStart = (event, element) => {\n      event.dataTransfer.setData('element', JSON.stringify(element))\n    }\n    \n    const onDrop = (event) => {\n      const elementData = event.dataTransfer.getData('element')\n      if (elementData) {\n        const element = JSON.parse(elementData)\n        \n        // Create new element with default properties\n        const newElement = {\n          id: uuidv4(),\n          type: element.type,\n          label: element.label,\n          name: element.type + '_' + Date.now(),\n          placeholder: '',\n          helperText: '',\n          required: false,\n          options: element.type === 'select' || element.type === 'radio' || element.type === 'checkbox' \n            ? [{ label: 'Option 1', value: 'option1' }] \n            : undefined\n        }\n        \n        currentElement.value = { ...newElement }\n        isEditingElement.value = false\n        elementDialogVisible.value = true\n      }\n    }\n    \n    const editElement = (index) => {\n      currentElement.value = { ...template.elements[index] }\n      currentElementIndex.value = index\n      isEditingElement.value = true\n      elementDialogVisible.value = true\n    }\n    \n    const removeElement = (index) => {\n      template.elements.splice(index, 1)\n    }\n    \n    const addOption = () => {\n      if (!currentElement.value.options) {\n        currentElement.value.options = []\n      }\n      \n      const newOptionIndex = currentElement.value.options.length + 1\n      currentElement.value.options.push({\n        label: `Option ${newOptionIndex}`,\n        value: `option${newOptionIndex}`\n      })\n    }\n    \n    const removeOption = (index) => {\n      currentElement.value.options.splice(index, 1)\n    }\n    \n    const saveElement = () => {\n      if (!currentElement.value.label || !currentElement.value.name) {\n        ElMessage.warning('Element label and name are required')\n        return\n      }\n      \n      if (isEditingElement.value) {\n        template.elements[currentElementIndex.value] = { ...currentElement.value }\n      } else {\n        template.elements.push({ ...currentElement.value })\n      }\n      \n      elementDialogVisible.value = false\n      currentElementIndex.value = -1\n      currentElement.value = {}\n    }\n    \n    const saveTemplate = async () => {\n      if (!template.name) {\n        ElMessage.warning('Template name is required')\n        return\n      }\n      \n      try {\n        if (isEdit.value) {\n          await store.dispatch('updateTemplate', template)\n          ElMessage.success('Template updated successfully')\n        } else {\n          const newTemplate = await store.dispatch('createTemplate', template)\n          ElMessage.success('Template created successfully')\n          router.push(`/templates/${newTemplate._id}`)\n        }\n      } catch (error) {\n        ElMessage.error(`Failed to ${isEdit.value ? 'update' : 'create'} template`)\n      }\n    }\n    \n    const getElementComponent = () => {\n      // This would map the element type to a component\n      // For now, we'll return a simple string but in a real app, you'd return components\n      return 'div'\n    }\n    \n    return {\n      template,\n      loading,\n      isEdit,\n      availableElements,\n      elementDialogVisible,\n      isEditingElement,\n      currentElement,\n      onDragStart,\n      onDrop,\n      editElement,\n      removeElement,\n      addOption,\n      removeOption,\n      saveElement,\n      saveTemplate,\n      getElementComponent\n    }\n  }\n}\n</script>\n\n<style scoped>\n.template-form {\n  max-width: 1200px;\n  margin: 0 auto;\n}\n\n.header-actions {\n  display: flex;\n  gap: 1rem;\n}\n\n.form-settings, .form-canvas {\n  height: 100%;\n}\n\n.element-palette {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 10px;\n  margin-top: 1rem;\n}\n\n.element-item {\n  cursor: move;\n}\n\n.form-drop-area {\n  min-height: 400px;\n  border: 2px dashed #dcdfe6;\n  border-radius: 6px;\n  padding: 1rem;\n  margin-top: 1rem;\n}\n\n.empty-form {\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: #909399;\n}\n\n.form-element {\n  border: 1px solid #dcdfe6;\n  border-radius: 4px;\n  margin-bottom: 1rem;\n  padding: 1rem;\n  background-color: #f5f7fa;\n}\n\n.element-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 0.5rem;\n}\n\n.element-actions {\n  display: flex;\n  gap: 0.5rem;\n}\n\n.element-preview {\n  background-color: white;\n  padding: 0.5rem;\n  border: 1px solid #ebeef5;\n  border-radius: 4px;\n}\n\n.option-item {\n  display: flex;\n  gap: 10px;\n  margin-bottom: 10px;\n  align-items: center;\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}