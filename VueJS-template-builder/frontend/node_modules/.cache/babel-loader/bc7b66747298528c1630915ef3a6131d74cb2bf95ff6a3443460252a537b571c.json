{"ast":null,"code":"import { ref, onMounted, computed } from 'vue';\nimport { useStore } from 'vuex';\nimport { ElMessage } from 'element-plus';\nexport default {\n  name: 'TemplateList',\n  setup() {\n    const store = useStore();\n    const dialogVisible = ref(false);\n    const templateToDelete = ref(null);\n    const templates = computed(() => store.getters.templates);\n    const loading = computed(() => store.getters.isLoading);\n    onMounted(async () => {\n      await store.dispatch('fetchTemplates');\n    });\n    const confirmDelete = template => {\n      templateToDelete.value = template;\n      dialogVisible.value = true;\n    };\n    const deleteTemplate = async () => {\n      try {\n        await store.dispatch('deleteTemplate', templateToDelete.value._id);\n        ElMessage({\n          message: `Template \"${templateToDelete.value.name}\" deleted successfully`,\n          type: 'success'\n        });\n        dialogVisible.value = false;\n        templateToDelete.value = null;\n      } catch (error) {\n        ElMessage.error('Failed to delete template');\n      }\n    };\n    return {\n      templates,\n      loading,\n      dialogVisible,\n      templateToDelete,\n      confirmDelete,\n      deleteTemplate\n    };\n  }\n};","map":{"version":3,"names":["ref","onMounted","computed","useStore","ElMessage","name","setup","store","dialogVisible","templateToDelete","templates","getters","loading","isLoading","dispatch","confirmDelete","template","value","deleteTemplate","_id","message","type","error"],"sources":["/Users/mdtazbirurrahmanbhuiyan/Experiments/VueJS template buillder/VueJS-template-builder/frontend/src/views/templates/TemplateList.vue"],"sourcesContent":["<template>\n  <div class=\"template-list\">\n    <div class=\"page-header\">\n      <h1>Form Templates</h1>\n      <el-button type=\"primary\" @click=\"$router.push('/templates/new')\">\n        Create Template\n      </el-button>\n    </div>\n    \n    <el-card shadow=\"hover\" class=\"container\">\n      <el-table\n        v-loading=\"loading\"\n        :data=\"templates\"\n        style=\"width: 100%\"\n        empty-text=\"No templates found. Create your first template!\"\n      >\n        <el-table-column prop=\"name\" label=\"Name\" min-width=\"180\">\n          <template #default=\"{ row }\">\n            <router-link :to=\"`/templates/${row._id}`\">{{ row.name }}</router-link>\n          </template>\n        </el-table-column>\n        \n        <el-table-column prop=\"description\" label=\"Description\" min-width=\"250\" />\n        \n        <el-table-column label=\"Elements\" width=\"100\">\n          <template #default=\"{ row }\">\n            <el-tag size=\"small\">{{ row.elements?.length || 0 }} elements</el-tag>\n          </template>\n        </el-table-column>\n        \n        <el-table-column label=\"Status\" width=\"120\">\n          <template #default=\"{ row }\">\n            <el-tag :type=\"row.isPublished ? 'success' : 'info'\">\n              {{ row.isPublished ? 'Published' : 'Draft' }}\n            </el-tag>\n          </template>\n        </el-table-column>\n        \n        <el-table-column label=\"Actions\" width=\"200\">\n          <template #default=\"{ row }\">\n            <el-button-group>\n              <el-button size=\"small\" @click=\"$router.push(`/templates/${row._id}`)\">\n                Edit\n              </el-button>\n              <el-button size=\"small\" type=\"primary\" @click=\"$router.push(`/templates/${row._id}/preview`)\">\n                Preview\n              </el-button>\n              <el-button size=\"small\" type=\"danger\" @click=\"confirmDelete(row)\">\n                Delete\n              </el-button>\n            </el-button-group>\n          </template>\n        </el-table-column>\n      </el-table>\n    </el-card>\n    \n    <el-dialog\n      v-model=\"dialogVisible\"\n      title=\"Confirm Delete\"\n      width=\"30%\"\n    >\n      <span>Are you sure you want to delete the template \"{{ templateToDelete?.name }}\"?</span>\n      <template #footer>\n        <span class=\"dialog-footer\">\n          <el-button @click=\"dialogVisible = false\">Cancel</el-button>\n          <el-button type=\"danger\" @click=\"deleteTemplate\">Delete</el-button>\n        </span>\n      </template>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport { ref, onMounted, computed } from 'vue'\nimport { useStore } from 'vuex'\nimport { ElMessage } from 'element-plus'\n\nexport default {\n  name: 'TemplateList',\n  \n  setup() {\n    const store = useStore()\n    const dialogVisible = ref(false)\n    const templateToDelete = ref(null)\n    \n    const templates = computed(() => store.getters.templates)\n    const loading = computed(() => store.getters.isLoading)\n    \n    onMounted(async () => {\n      await store.dispatch('fetchTemplates')\n    })\n    \n    const confirmDelete = (template) => {\n      templateToDelete.value = template\n      dialogVisible.value = true\n    }\n    \n    const deleteTemplate = async () => {\n      try {\n        await store.dispatch('deleteTemplate', templateToDelete.value._id)\n        ElMessage({\n          message: `Template \"${templateToDelete.value.name}\" deleted successfully`,\n          type: 'success'\n        })\n        dialogVisible.value = false\n        templateToDelete.value = null\n      } catch (error) {\n        ElMessage.error('Failed to delete template')\n      }\n    }\n    \n    return {\n      templates,\n      loading,\n      dialogVisible,\n      templateToDelete,\n      confirmDelete,\n      deleteTemplate\n    }\n  }\n}\n</script>\n\n<style scoped>\n.template-list {\n  max-width: 1200px;\n  margin: 0 auto;\n}\n</style>\n"],"mappings":"AAyEA,SAASA,GAAG,EAAEC,SAAS,EAAEC,QAAO,QAAS,KAAI;AAC7C,SAASC,QAAO,QAAS,MAAK;AAC9B,SAASC,SAAQ,QAAS,cAAa;AAEvC,eAAe;EACbC,IAAI,EAAE,cAAc;EAEpBC,KAAKA,CAAA,EAAG;IACN,MAAMC,KAAI,GAAIJ,QAAQ,CAAC;IACvB,MAAMK,aAAY,GAAIR,GAAG,CAAC,KAAK;IAC/B,MAAMS,gBAAe,GAAIT,GAAG,CAAC,IAAI;IAEjC,MAAMU,SAAQ,GAAIR,QAAQ,CAAC,MAAMK,KAAK,CAACI,OAAO,CAACD,SAAS;IACxD,MAAME,OAAM,GAAIV,QAAQ,CAAC,MAAMK,KAAK,CAACI,OAAO,CAACE,SAAS;IAEtDZ,SAAS,CAAC,YAAY;MACpB,MAAMM,KAAK,CAACO,QAAQ,CAAC,gBAAgB;IACvC,CAAC;IAED,MAAMC,aAAY,GAAKC,QAAQ,IAAK;MAClCP,gBAAgB,CAACQ,KAAI,GAAID,QAAO;MAChCR,aAAa,CAACS,KAAI,GAAI,IAAG;IAC3B;IAEA,MAAMC,cAAa,GAAI,MAAAA,CAAA,KAAY;MACjC,IAAI;QACF,MAAMX,KAAK,CAACO,QAAQ,CAAC,gBAAgB,EAAEL,gBAAgB,CAACQ,KAAK,CAACE,GAAG;QACjEf,SAAS,CAAC;UACRgB,OAAO,EAAE,aAAaX,gBAAgB,CAACQ,KAAK,CAACZ,IAAI,wBAAwB;UACzEgB,IAAI,EAAE;QACR,CAAC;QACDb,aAAa,CAACS,KAAI,GAAI,KAAI;QAC1BR,gBAAgB,CAACQ,KAAI,GAAI,IAAG;MAC9B,EAAE,OAAOK,KAAK,EAAE;QACdlB,SAAS,CAACkB,KAAK,CAAC,2BAA2B;MAC7C;IACF;IAEA,OAAO;MACLZ,SAAS;MACTE,OAAO;MACPJ,aAAa;MACbC,gBAAgB;MAChBM,aAAa;MACbG;IACF;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}