{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementBlock as _createElementBlock, resolveDirective as _resolveDirective, withDirectives as _withDirectives } from \"vue\";\nconst _hoisted_1 = {\n  class: \"form-list\"\n};\nconst _hoisted_2 = {\n  class: \"page-header\"\n};\nconst _hoisted_3 = {\n  key: 1\n};\nconst _hoisted_4 = {\n  class: \"dialog-footer\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_button = _resolveComponent(\"el-button\");\n  const _component_router_link = _resolveComponent(\"router-link\");\n  const _component_el_table_column = _resolveComponent(\"el-table-column\");\n  const _component_el_tag = _resolveComponent(\"el-tag\");\n  const _component_el_button_group = _resolveComponent(\"el-button-group\");\n  const _component_el_table = _resolveComponent(\"el-table\");\n  const _component_el_card = _resolveComponent(\"el-card\");\n  const _component_el_dialog = _resolveComponent(\"el-dialog\");\n  const _directive_loading = _resolveDirective(\"loading\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_cache[4] || (_cache[4] = _createElementVNode(\"h1\", null, \"Forms\", -1 /* HOISTED */)), _createVNode(_component_el_button, {\n    type: \"primary\",\n    onClick: _cache[0] || (_cache[0] = $event => _ctx.$router.push('/forms/new'))\n  }, {\n    default: _withCtx(() => _cache[3] || (_cache[3] = [_createTextVNode(\" Create Form \")])),\n    _: 1 /* STABLE */,\n    __: [3]\n  })]), _createVNode(_component_el_card, {\n    shadow: \"hover\",\n    class: \"container\"\n  }, {\n    default: _withCtx(() => [_withDirectives((_openBlock(), _createBlock(_component_el_table, {\n      data: $setup.forms,\n      style: {\n        \"width\": \"100%\"\n      },\n      \"empty-text\": \"No forms found. Create your first form!\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_table_column, {\n        prop: \"name\",\n        label: \"Name\",\n        \"min-width\": \"180\"\n      }, {\n        default: _withCtx(({\n          row\n        }) => [_createVNode(_component_router_link, {\n          to: `/forms/${row._id}`\n        }, {\n          default: _withCtx(() => [_createTextVNode(_toDisplayString(row.name), 1 /* TEXT */)]),\n          _: 2 /* DYNAMIC */\n        }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"to\"])]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_table_column, {\n        prop: \"description\",\n        label: \"Description\",\n        \"min-width\": \"250\"\n      }), _createVNode(_component_el_table_column, {\n        label: \"Template\",\n        width: \"180\"\n      }, {\n        default: _withCtx(({\n          row\n        }) => [row.templateId ? (_openBlock(), _createBlock(_component_el_tag, {\n          key: 0,\n          size: \"small\",\n          type: \"info\"\n        }, {\n          default: _withCtx(() => _cache[5] || (_cache[5] = [_createTextVNode(\" Based on template \")])),\n          _: 1 /* STABLE */,\n          __: [5]\n        })) : (_openBlock(), _createElementBlock(\"span\", _hoisted_3, \"Custom form\"))]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_table_column, {\n        label: \"Elements\",\n        width: \"100\"\n      }, {\n        default: _withCtx(({\n          row\n        }) => [_createVNode(_component_el_tag, {\n          size: \"small\"\n        }, {\n          default: _withCtx(() => [_createTextVNode(_toDisplayString(row.elements?.length || 0) + \" elements\", 1 /* TEXT */)]),\n          _: 2 /* DYNAMIC */\n        }, 1024 /* DYNAMIC_SLOTS */)]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_table_column, {\n        label: \"Status\",\n        width: \"120\"\n      }, {\n        default: _withCtx(({\n          row\n        }) => [_createVNode(_component_el_tag, {\n          type: row.isPublished ? 'success' : 'info'\n        }, {\n          default: _withCtx(() => [_createTextVNode(_toDisplayString(row.isPublished ? 'Published' : 'Draft'), 1 /* TEXT */)]),\n          _: 2 /* DYNAMIC */\n        }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"type\"])]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_table_column, {\n        label: \"Actions\",\n        width: \"200\"\n      }, {\n        default: _withCtx(({\n          row\n        }) => [_createVNode(_component_el_button_group, null, {\n          default: _withCtx(() => [_createVNode(_component_el_button, {\n            size: \"small\",\n            onClick: $event => _ctx.$router.push(`/forms/${row._id}`)\n          }, {\n            default: _withCtx(() => _cache[6] || (_cache[6] = [_createTextVNode(\" Edit \")])),\n            _: 2 /* DYNAMIC */,\n            __: [6]\n          }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"onClick\"]), _createVNode(_component_el_button, {\n            size: \"small\",\n            type: \"primary\",\n            onClick: $event => _ctx.$router.push(`/forms/${row._id}/view`)\n          }, {\n            default: _withCtx(() => _cache[7] || (_cache[7] = [_createTextVNode(\" View \")])),\n            _: 2 /* DYNAMIC */,\n            __: [7]\n          }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"onClick\"]), _createVNode(_component_el_button, {\n            size: \"small\",\n            type: \"danger\",\n            onClick: $event => $setup.confirmDelete(row)\n          }, {\n            default: _withCtx(() => _cache[8] || (_cache[8] = [_createTextVNode(\" Delete \")])),\n            _: 2 /* DYNAMIC */,\n            __: [8]\n          }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"onClick\"])]),\n          _: 2 /* DYNAMIC */\n        }, 1024 /* DYNAMIC_SLOTS */)]),\n        _: 1 /* STABLE */\n      })]),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"data\"])), [[_directive_loading, $setup.loading]])]),\n    _: 1 /* STABLE */\n  }), _createVNode(_component_el_dialog, {\n    modelValue: $setup.dialogVisible,\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $setup.dialogVisible = $event),\n    title: \"Confirm Delete\",\n    width: \"30%\"\n  }, {\n    footer: _withCtx(() => [_createElementVNode(\"span\", _hoisted_4, [_createVNode(_component_el_button, {\n      onClick: _cache[1] || (_cache[1] = $event => $setup.dialogVisible = false)\n    }, {\n      default: _withCtx(() => _cache[9] || (_cache[9] = [_createTextVNode(\"Cancel\")])),\n      _: 1 /* STABLE */,\n      __: [9]\n    }), _createVNode(_component_el_button, {\n      type: \"danger\",\n      onClick: $setup.deleteForm\n    }, {\n      default: _withCtx(() => _cache[10] || (_cache[10] = [_createTextVNode(\"Delete\")])),\n      _: 1 /* STABLE */,\n      __: [10]\n    }, 8 /* PROPS */, [\"onClick\"])])]),\n    default: _withCtx(() => [_createElementVNode(\"span\", null, \"Are you sure you want to delete the form \\\"\" + _toDisplayString($setup.formToDelete?.name) + \"\\\"?\", 1 /* TEXT */)]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"modelValue\"])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_createVNode","_component_el_button","type","onClick","_cache","$event","_ctx","$router","push","_component_el_card","shadow","_createBlock","_component_el_table","data","$setup","forms","style","_component_el_table_column","prop","label","default","_withCtx","row","_component_router_link","to","_id","name","width","templateId","_component_el_tag","size","_hoisted_3","elements","length","isPublished","_component_el_button_group","confirmDelete","loading","_component_el_dialog","dialogVisible","title","footer","_hoisted_4","deleteForm","_toDisplayString","formToDelete"],"sources":["/Users/mdtazbirurrahmanbhuiyan/Experiments/VueJS template buillder/VueJS-template-builder/frontend/src/views/forms/FormList.vue"],"sourcesContent":["<template>\n  <div class=\"form-list\">\n    <div class=\"page-header\">\n      <h1>Forms</h1>\n      <el-button type=\"primary\" @click=\"$router.push('/forms/new')\">\n        Create Form\n      </el-button>\n    </div>\n    \n    <el-card shadow=\"hover\" class=\"container\">\n      <el-table\n        v-loading=\"loading\"\n        :data=\"forms\"\n        style=\"width: 100%\"\n        empty-text=\"No forms found. Create your first form!\"\n      >\n        <el-table-column prop=\"name\" label=\"Name\" min-width=\"180\">\n          <template #default=\"{ row }\">\n            <router-link :to=\"`/forms/${row._id}`\">{{ row.name }}</router-link>\n          </template>\n        </el-table-column>\n        \n        <el-table-column prop=\"description\" label=\"Description\" min-width=\"250\" />\n        \n        <el-table-column label=\"Template\" width=\"180\">\n          <template #default=\"{ row }\">\n            <el-tag v-if=\"row.templateId\" size=\"small\" type=\"info\">\n              Based on template\n            </el-tag>\n            <span v-else>Custom form</span>\n          </template>\n        </el-table-column>\n        \n        <el-table-column label=\"Elements\" width=\"100\">\n          <template #default=\"{ row }\">\n            <el-tag size=\"small\">{{ row.elements?.length || 0 }} elements</el-tag>\n          </template>\n        </el-table-column>\n        \n        <el-table-column label=\"Status\" width=\"120\">\n          <template #default=\"{ row }\">\n            <el-tag :type=\"row.isPublished ? 'success' : 'info'\">\n              {{ row.isPublished ? 'Published' : 'Draft' }}\n            </el-tag>\n          </template>\n        </el-table-column>\n        \n        <el-table-column label=\"Actions\" width=\"200\">\n          <template #default=\"{ row }\">\n            <el-button-group>\n              <el-button size=\"small\" @click=\"$router.push(`/forms/${row._id}`)\">\n                Edit\n              </el-button>\n              <el-button size=\"small\" type=\"primary\" @click=\"$router.push(`/forms/${row._id}/view`)\">\n                View\n              </el-button>\n              <el-button size=\"small\" type=\"danger\" @click=\"confirmDelete(row)\">\n                Delete\n              </el-button>\n            </el-button-group>\n          </template>\n        </el-table-column>\n      </el-table>\n    </el-card>\n    \n    <el-dialog\n      v-model=\"dialogVisible\"\n      title=\"Confirm Delete\"\n      width=\"30%\"\n    >\n      <span>Are you sure you want to delete the form \"{{ formToDelete?.name }}\"?</span>\n      <template #footer>\n        <span class=\"dialog-footer\">\n          <el-button @click=\"dialogVisible = false\">Cancel</el-button>\n          <el-button type=\"danger\" @click=\"deleteForm\">Delete</el-button>\n        </span>\n      </template>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport { ref, onMounted, computed } from 'vue'\nimport { useStore } from 'vuex'\nimport { ElMessage } from 'element-plus'\n\nexport default {\n  name: 'FormList',\n  \n  setup() {\n    const store = useStore()\n    const dialogVisible = ref(false)\n    const formToDelete = ref(null)\n    \n    const forms = computed(() => store.getters.forms)\n    const loading = computed(() => store.getters.isLoading)\n    \n    onMounted(async () => {\n      await store.dispatch('fetchForms')\n    })\n    \n    const confirmDelete = (form) => {\n      formToDelete.value = form\n      dialogVisible.value = true\n    }\n    \n    const deleteForm = async () => {\n      try {\n        await store.dispatch('deleteForm', formToDelete.value._id)\n        ElMessage({\n          message: `Form \"${formToDelete.value.name}\" deleted successfully`,\n          type: 'success'\n        })\n        dialogVisible.value = false\n        formToDelete.value = null\n      } catch (error) {\n        ElMessage.error('Failed to delete form')\n      }\n    }\n    \n    return {\n      forms,\n      loading,\n      dialogVisible,\n      formToDelete,\n      confirmDelete,\n      deleteForm\n    }\n  }\n}\n</script>\n\n<style scoped>\n.form-list {\n  max-width: 1200px;\n  margin: 0 auto;\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}